<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="./AddIntakePopup.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Plus Jakarta Sans:wght@400;500;600;700;800&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap"
    />
  </head>
  <body>
    <div class="addintakepopup">
      <header class="headeraddintake" id="headerAddIntake">
        <img
          class="inhaler-icon7"
          alt=""
          src="./public/inhalerLogoDark@2x.png"
        />

        <b class="add-intake">Add Intake</b>
        <button class="close6" id="closeBtn">
          <img class="close-icon6" alt="" src="./public/close1@2x.png" />
        </button>
      </header>
      <img class="addintakepopup-child" alt="" src="./public/dark-line.svg" />

      <section class="inputtimeintakesecion" id="inputTimeIntakeSecion">
        <h1 class="header17">Input time of intake</h1>
        <div class="inputtimeintakediv" id="inputTimeIntakeDiv">
          <h2 class="time-of-intake">Time of intake:</h2>
          <input
            class="intaketimevar"
            name="intakeTimeVar"
            id="intakeTimeVar"
            placeholder="Time Of Intake"
            type="datetime-local"
          />
        </div>
      </section>
      <section class="inputnbpuffssection" id="inputNbPuffsSection">
        <h1 class="header17">Input number of puffs</h1>
        <div class="inputtimeintakediv" id="inputNbPuffsDiv">
          <h2 class="time-of-intake">Number of puffs</h2>
          <input
            class="intaketimevar"
            name="nbPuffsVar"
            id="nbPuffsVar"
            placeholder="Number Of Puffs"
            type="number"
          />
        </div>
      </section>
      <section class="inputtimeintakesecion" id="selectInhalerSection">
        <b class="add-intake">Select Inhaler</b>
        <section class="btnssection" id="pickInhaler">
          <script>
            const inhalerSection = document.getElementById("pickInhaler");
            let newIntakeInhaler = 0;

            function createSelectInhalerBtn(inhaler){
              let selectInhalerBtn;
              selectInhalerBtn = document.createElement('button');
              selectInhalerBtn.className = 'selectInhaler';
              selectInhalerBtn.addEventListener('click', function () {
                newIntakeInhaler = inhaler;
              })
              selectInhalerBtn.id = 'select'+inhaler.getName()
              let divBtn = document.createElement('div')
              let name = document.createElement('name');
              name.textContent = inhaler.getName(); //reference:https://www.tutorialspoint.com/how-to-append-data-to-div-element-using-javascript
              divBtn.appendChild(name)
              divBtn.appendChild(inhaler.getName())
              selectInhalerBtn.appendChild(divBtn)
              inhalerSection.appendChild(selectInhalerBtn);
            }
            for (let i=0;i<Inhaler.getAllInhalers().length;i++){
              createSelectInhalerBtn(Inhaler.getInhaler(i))
            }
          </script>
        </section>
      </section>
      <button class="addintakebtn" id="addIntakeBtn">
        <div class="content15">
          <b class="text35">Add Intake</b>
        </div>
      </button>
    </div>

    <script src="./AddIntakePopup.js" type = "module">
      
    </script>
  </body>
</html>
